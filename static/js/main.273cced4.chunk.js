(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[0],{21:function(e,t,a){e.exports=a(38)},26:function(e,t,a){},27:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(3),o=a(6),c=a(0),s=a.n(c),u=a(19),i=a.n(u),l=a(10),m=a(1),f=(a(26),a(27),function(){return s.a.createElement("nav",{className:"navbar"},s.a.createElement(l.b,{className:"navbar-title",to:"/"},"Competitive Programming Portfolio"))}),d=(a(33),function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"main-contents"},s.a.createElement("div",{className:"main-contents-title"},"Competitive Programming Portfolio \u3068\u306f\uff1f"),s.a.createElement("hr",null),s.a.createElement("div",{className:"description"},"AtCoder, Codeforces, TopCoder, yukicoder\u306e\u30e6\u30fc\u30b6\u540d\u304b\u3089\u60c5\u5831\u3092\u53d6\u5f97\u3057\u3001\u7d71\u8a08\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308b\u30b5\u30a4\u30c8\u3067\u3059\u3002",s.a.createElement("br",null),s.a.createElement("a",{href:"https://twitter.com/ageprocpp",target:"_blank",rel:"noopener noreferrer"},"@ageprocpp"),"\u304c\u904b\u55b6\u3057\u3066\u3044\u307e\u3059\u3002")),s.a.createElement("div",{className:"main-contents"},s.a.createElement("div",{className:"main-contents-title"},"\u53d6\u5f97\u3067\u304d\u308b\u3082\u306e"),s.a.createElement("hr",null),s.a.createElement("div",{className:"description"},"\u6b63\u89e3\u6570\u306f\u3082\u3061\u308d\u3093\u3001\u63d0\u51fa\u3057\u305f\u30b3\u30fc\u30c9\u306e\u7dcf\u9577, \u5f97\u70b9\u306e\u5408\u8a08, streak\u306a\u3069\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002",s.a.createElement("br",null),"\u53d6\u5f97\u306b\u306f\u3001AtCoder Problems API, Codeforces API, TopCoder API, yukicoder API\u3092\u305d\u308c\u305e\u308c\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002",s.a.createElement("br",null),"\u8ffd\u52a0\u3057\u3066\u307b\u3057\u3044\u3082\u306e\u304c\u3042\u308c\u3070\u3001\u9023\u7d61\u3057\u3066\u304f\u3060\u3055\u3044\u3002")))}),p=(a(34),a(35),Object(m.e)((function(e){var t,a=Object(c.useState)(e.username),n=Object(o.a)(a,2),r=n[0],u=n[1],i=Object(c.useState)(!1),l=Object(o.a)(i,2),m=l[0],f=l[1];return Object(c.useEffect)((function(){m&&(console.log(e.history),e.history.push("/portfolio"),f(!1))}),[m,e.history]),"atcoder"===e.contestSite&&(t="AtCoder"),"codeforces"===e.contestSite&&(t="Codeforces"),"topcoder"===e.contestSite&&(t="TopCoder"),"yukicoder"===e.contestSite&&(t="yukicoder"),s.a.createElement("li",{className:"form"},s.a.createElement("div",{className:"form-contents"},s.a.createElement("div",{className:"form-title"},t),s.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.setInformation(e.contestSite,r),f(!0)}},s.a.createElement("input",{type:"text",className:"username",value:r,onChange:function(e){u(e.target.value)}}))))}))),v=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",null),s.a.createElement("ul",{className:"forms"},s.a.createElement(p,{contestSite:"atcoder",setInformation:e.setInformation,username:e.usernames.atcoder}),s.a.createElement(p,{contestSite:"codeforces",setInformation:e.setInformation,username:e.usernames.codeforces}),s.a.createElement(p,{contestSite:"topcoder",setInformation:e.setInformation,username:e.usernames.topcoder}),s.a.createElement(p,{contestSite:"yukicoder",setInformation:e.setInformation,username:e.usernames.yukicoder})))},b=a(13),E=(a(36),a(37),function(e){return s.a.createElement("div",{className:"portfolio-content"},s.a.createElement("div",{className:"portfolio-content-title"},e.title),s.a.createElement("div",{className:"portfolio-content-value"},e.value,s.a.createElement("span",{className:"portfolio-content-value-unit"},e.valueUnit)),s.a.createElement("div",{className:"portfolio-content-subValue"},e.subValue,e.subValueUnit))});function h(e){return e%10===1?"st":e%10===2?"nd":"th"}var k=function(e){var t=Object(c.useState)(0),a=Object(o.a)(t,2),u=a[0],i=a[1],l=Object(c.useState)(0),m=Object(o.a)(l,2),f=m[0],d=m[1],p=Object(c.useState)({}),v=Object(o.a)(p,2),k=v[0],C=v[1],j=Object(c.useState)(!0),O=Object(o.a)(j,2),S=O[0],_=O[1],g=Object(c.useState)(!0),R=Object(o.a)(g,2),N=R[0],y=R[1];return Object(c.useEffect)((function(){d(0),_(!0),y(!0);var t=setInterval((function(){return d((function(e){return e+1}))}),1e3);if("atcoder"===e.focusedContestSite)return i(4),fetch("https://kenkoooo.com/atcoder/atcoder-api/v2/user_info?user=".concat(e.username)).then((function(e){return e.json()})).then((function(e){C((function(t){return Object(r.a)(Object(r.a)({},t),{},{acCount:e.accepted_count,acCountRank:e.accepted_count_rank+1,ratedPointSum:e.rated_point_sum,ratedPointSumRank:e.rated_point_sum_rank+1})})),i((function(e){return e-1}))})).catch((function(e){return console.error(e)})),fetch("https://kenkoooo.com/atcoder/resources/merged-problems.json").then((function(e){return e.json()})).then((function(t){var a,o=Object(n.a)({},e.username,0),c=Object(b.a)(t);try{for(c.s();!(a=c.n()).done;){var s=a.value;null!==s.first_user_id&&(void 0===o[s.first_user_id]?o[s.first_user_id]=1:o[s.first_user_id]++)}}catch(g){c.e(g)}finally{c.f()}var u=1;for(var l in o)o[l]>o[e.username]&&u++;C((function(t){return Object(r.a)(Object(r.a)({},t),{},{firstAcCount:o[e.username],firstAcRank:u})}));var m,f=Object(n.a)({},e.username,0),d=Object(b.a)(t);try{for(d.s();!(m=d.n()).done;){var p=m.value;null!==p.fastest_user_id&&(void 0===f[p.fastest_user_id]?f[p.fastest_user_id]=1:f[p.fastest_user_id]++)}}catch(g){d.e(g)}finally{d.f()}var v=1;for(var E in f)f[E]>f[e.username]&&v++;C((function(t){return Object(r.a)(Object(r.a)({},t),{},{fastestCodeCount:f[e.username],fastestCodeRank:v})}));var h,k=Object(n.a)({},e.username,0),j=Object(b.a)(t);try{for(j.s();!(h=j.n()).done;){var O=h.value;null!==O.shortest_user_id&&(void 0===k[O.shortest_user_id]?k[O.shortest_user_id]=1:k[O.shortest_user_id]++)}}catch(g){j.e(g)}finally{j.f()}var S=1;for(var _ in k)k[_]>k[e.username]&&S++;C((function(t){return Object(r.a)(Object(r.a)({},t),{},{shortestCodeCount:k[e.username],shortestCodeRank:S})})),i((function(e){return e-1}))})).catch((function(e){return console.error(e)})),fetch("https://kenkoooo.com/atcoder/resources/streaks.json").then((function(e){return e.json()})).then((function(t){var a=t.filter((function(t){return t.user_id===e.username}));if(void 0!==a[0]){var n=1;t.forEach((function(e){e.streak>a[0].streak&&n++})),C((function(e){return Object(r.a)(Object(r.a)({},e),{},{longestStreak:a[0].streak,longestStreakRank:n})})),i((function(e){return e-1}))}else i((function(e){return e-1}))})),fetch("https://cpportfolio-backend.herokuapp.com/atcoder/?username=".concat(e.username)).then((function(t){if(!t.ok){if(y(!1),i((function(e){return e-1})),""!==e.username)throw new Error("Such a user does not exist");_(!1)}return t.json()})).then((function(e){C((function(t){return Object(r.a)(Object(r.a)({},t),{},{rating:e.rating,ratingRank:e.ratingRank,participatedRatedContests:e.participatedRatedContests,participatedContests:e.participatedContests})})),i((function(e){return e-1}))})).catch((function(e){return console.error(e)})),function(){clearInterval(t)}}),[e.focusedContestSite,e.username]),""===e.focusedContestSite||""===e.username?s.a.createElement(s.a.Fragment,null):S?u?s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",null),s.a.createElement("div",{className:"loading"},"Loading",".".repeat(f%4))):N?s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",null),s.a.createElement("div",{className:"portfolio-main"},s.a.createElement("div",{className:"portfolio-contents"},s.a.createElement(E,{title:"Rating",value:k.rating,valueUnit:"",subValue:k.ratingRank,subValueUnit:""}),s.a.createElement(E,{title:"Participated Contests",value:k.participatedContests,valueUnit:"",subValue:"Rated:".concat(k.participatedRatedContests)}),s.a.createElement(E,{title:"AC Count",value:k.acCount,valueUnit:"",subValue:k.acCountRank,subValueUnit:h(k.acCountRank)}),s.a.createElement(E,{title:"Rated Point Sum",value:k.ratedPointSum,valueUnit:"pt",subValue:k.ratedPointSumRank,subValueUnit:h(k.ratedPointSumRank)}),s.a.createElement(E,{title:"First AC",value:k.firstAcCount,valueUnit:"",subValue:k.firstAcRank,subValueUnit:h(k.firstAcRank)}),s.a.createElement(E,{title:"Fastest Code",value:k.fastestCodeCount,valueUnit:"",subValue:k.fastestCodeRank,subValueUnit:h(k.fastestCodeRank)}),s.a.createElement(E,{title:"Shortest Code",value:k.shortestCodeCount,valueUnit:"",subValue:k.shortestCodeRank,subValueUnit:h(k.shortestCodeRank)}),s.a.createElement(E,{title:"Longest Streak",value:k.longestStreak,valueUnit:"days",subValue:k.longestStreakRank,subValueUnit:h(k.longestStreakRank)})))):s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",null),s.a.createElement("div",{className:"user-not-exist"},s.a.createElement("span",null,"Such a user does not exist."))):s.a.createElement(s.a.Fragment,null)},C=function(){var e=Object(c.useState)({atcoder:"",codeforces:"",topcoder:"",yukicoder:""}),t=Object(o.a)(e,2),a=t[0],u=t[1],i=Object(c.useState)("atcoder"),p=Object(o.a)(i,2),b=p[0],E=p[1];return s.a.createElement("div",{className:"app"},s.a.createElement(l.a,null,s.a.createElement("div",{className:"main"},s.a.createElement(f,null),s.a.createElement(m.a,{exact:!0,path:"/",component:d}),s.a.createElement(v,{setInformation:function(e,t){E(e),u((function(a){return Object(r.a)(Object(r.a)({},a),{},Object(n.a)({},e,t))}))},usernames:a}),s.a.createElement(m.a,{path:"/portfolio",render:function(){return s.a.createElement(k,{focusedContestSite:b,username:a[b]})}}))))};i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(C,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.273cced4.chunk.js.map