(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[0],{21:function(e,t,n){e.exports=n(38)},26:function(e,t,n){},27:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(3),o=n(6),c=n(0),s=n.n(c),u=n(19),i=n.n(u),l=n(10),m=n(1),f=(n(26),n(27),function(){return s.a.createElement("nav",{className:"navbar"},s.a.createElement(l.b,{className:"navbar-title",to:"/"},"Competitive Programming Portfolio"))}),d=(n(33),function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"main-contents"},s.a.createElement("div",{className:"main-contents-title"},"Competitive Programming Portfolio \u3068\u306f\uff1f"),s.a.createElement("hr",null),s.a.createElement("div",{className:"description"},"AtCoder, Codeforces, TopCoder, yukicoder\u306e\u30e6\u30fc\u30b6\u540d\u304b\u3089\u60c5\u5831\u3092\u53d6\u5f97\u3057\u3001\u7d71\u8a08\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308b\u30b5\u30a4\u30c8\u3067\u3059\u3002",s.a.createElement("br",null),s.a.createElement("a",{href:"https://twitter.com/ageprocpp",target:"_blank",rel:"noopener noreferrer"},"@ageprocpp"),"\u304c\u904b\u55b6\u3057\u3066\u3044\u307e\u3059\u3002")),s.a.createElement("div",{className:"main-contents"},s.a.createElement("div",{className:"main-contents-title"},"\u53d6\u5f97\u3067\u304d\u308b\u3082\u306e"),s.a.createElement("hr",null),s.a.createElement("div",{className:"description"},"\u6b63\u89e3\u6570\u306f\u3082\u3061\u308d\u3093\u3001\u63d0\u51fa\u3057\u305f\u30b3\u30fc\u30c9\u306e\u7dcf\u9577, \u5f97\u70b9\u306e\u5408\u8a08, streak\u306a\u3069\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002",s.a.createElement("br",null),"\u53d6\u5f97\u306b\u306f\u3001AtCoder Problems API, Codeforces API, TopCoder API, yukicoder API\u3092\u305d\u308c\u305e\u308c\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002",s.a.createElement("br",null),"\u8ffd\u52a0\u3057\u3066\u307b\u3057\u3044\u3082\u306e\u304c\u3042\u308c\u3070\u3001\u9023\u7d61\u3057\u3066\u304f\u3060\u3055\u3044\u3002")))}),p=(n(34),n(35),Object(m.e)((function(e){var t,n=Object(c.useState)(e.username),a=Object(o.a)(n,2),r=a[0],u=a[1],i=Object(c.useState)(!1),l=Object(o.a)(i,2),m=l[0],f=l[1];return Object(c.useEffect)((function(){m&&(e.history.push("/portfolio"),f(!1))}),[m,e.history]),"atcoder"===e.contestSite&&(t="AtCoder"),"codeforces"===e.contestSite&&(t="Codeforces"),"topcoder"===e.contestSite&&(t="TopCoder"),"yukicoder"===e.contestSite&&(t="yukicoder"),s.a.createElement("li",{className:"form"},s.a.createElement("div",{className:"form-contents"},s.a.createElement("div",{className:"form-title"},t),s.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.setInformation(e.contestSite,r),f(!0)}},s.a.createElement("input",{type:"text",className:"username",value:r,onChange:function(e){u(e.target.value)}}))))}))),v=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",null),s.a.createElement("ul",{className:"forms"},s.a.createElement(p,{contestSite:"atcoder",setInformation:e.setInformation,username:e.usernames.atcoder}),s.a.createElement(p,{contestSite:"codeforces",setInformation:e.setInformation,username:e.usernames.codeforces}),s.a.createElement(p,{contestSite:"topcoder",setInformation:e.setInformation,username:e.usernames.topcoder}),s.a.createElement(p,{contestSite:"yukicoder",setInformation:e.setInformation,username:e.usernames.yukicoder})))},b=n(13),E=(n(36),n(37),function(e){return s.a.createElement("div",{className:"portfolio-content"},s.a.createElement("div",{className:"portfolio-content-title"},e.title),s.a.createElement("div",{className:"portfolio-content-value"},e.value,""!==e.valueUnit?s.a.createElement("span",{className:"portfolio-content-value-unit"},e.valueUnit):s.a.createElement(s.a.Fragment,null)),s.a.createElement("div",{className:"portfolio-content-subValue"},e.subValue,e.subValueUnit))});function h(e){return e%10===1?"st":e%10===2?"nd":"th"}var k=function(e){var t=Object(c.useState)(0),n=Object(o.a)(t,2),u=n[0],i=n[1],l=Object(c.useState)(0),m=Object(o.a)(l,2),f=m[0],d=m[1],p=Object(c.useState)({}),v=Object(o.a)(p,2),k=v[0],C=v[1],j=Object(c.useState)(!0),O=Object(o.a)(j,2),g=O[0],S=O[1],_=Object(c.useState)(!0),R=Object(o.a)(_,2),N=R[0],U=R[1];return Object(c.useEffect)((function(){d(0),S(!0),U(!0);var t=setInterval((function(){return d((function(e){return e+1}))}),1e3);return"atcoder"===e.focusedContestSite?(i(4),fetch("https://kenkoooo.com/atcoder/atcoder-api/v2/user_info?user=".concat(e.username)).then((function(e){return e.json()})).then((function(e){C((function(t){return Object(r.a)(Object(r.a)({},t),{},{acCount:e.accepted_count,acCountRank:e.accepted_count_rank+1,ratedPointSum:e.rated_point_sum,ratedPointSumRank:e.rated_point_sum_rank+1})})),i((function(e){return e-1}))})).catch((function(e){return console.error(e)})),fetch("https://kenkoooo.com/atcoder/resources/merged-problems.json").then((function(e){return e.json()})).then((function(t){var n,o=Object(a.a)({},e.username,0),c=Object(b.a)(t);try{for(c.s();!(n=c.n()).done;){var s=n.value;null!==s.first_user_id&&(void 0===o[s.first_user_id]?o[s.first_user_id]=1:o[s.first_user_id]++)}}catch(_){c.e(_)}finally{c.f()}var u=1;for(var l in o)o[l]>o[e.username]&&u++;C((function(t){return Object(r.a)(Object(r.a)({},t),{},{firstAcCount:o[e.username],firstAcRank:u})}));var m,f=Object(a.a)({},e.username,0),d=Object(b.a)(t);try{for(d.s();!(m=d.n()).done;){var p=m.value;null!==p.fastest_user_id&&(void 0===f[p.fastest_user_id]?f[p.fastest_user_id]=1:f[p.fastest_user_id]++)}}catch(_){d.e(_)}finally{d.f()}var v=1;for(var E in f)f[E]>f[e.username]&&v++;C((function(t){return Object(r.a)(Object(r.a)({},t),{},{fastestCodeCount:f[e.username],fastestCodeRank:v})}));var h,k=Object(a.a)({},e.username,0),j=Object(b.a)(t);try{for(j.s();!(h=j.n()).done;){var O=h.value;null!==O.shortest_user_id&&(void 0===k[O.shortest_user_id]?k[O.shortest_user_id]=1:k[O.shortest_user_id]++)}}catch(_){j.e(_)}finally{j.f()}var g=1;for(var S in k)k[S]>k[e.username]&&g++;C((function(t){return Object(r.a)(Object(r.a)({},t),{},{shortestCodeCount:k[e.username],shortestCodeRank:g})})),i((function(e){return e-1}))})).catch((function(e){return console.error(e)})),fetch("https://kenkoooo.com/atcoder/resources/streaks.json").then((function(e){return e.json()})).then((function(t){var n=t.filter((function(t){return t.user_id===e.username}));if(void 0!==n[0]){var a=1;t.forEach((function(e){e.streak>n[0].streak&&a++})),C((function(e){return Object(r.a)(Object(r.a)({},e),{},{longestStreak:n[0].streak,longestStreakRank:a})})),i((function(e){return e-1}))}else i((function(e){return e-1}))})),fetch("https://cpportfolio-backend.herokuapp.com/atcoder/?username=".concat(e.username)).then((function(t){if(!t.ok){if(U(!1),i((function(e){return e-1})),""!==e.username)return new Error("Such a user does not exist");S(!1)}return t.json()})).then((function(e){C((function(t){return Object(r.a)(Object(r.a)({},t),{},{rating:e.rating,ratingRank:e.ratingRank,participatedRatedContests:e.participatedRatedContests,participatedContests:e.participatedContests})})),i((function(e){return e-1}))})).catch((function(e){return console.error(e)}))):"codeforces"===e.focusedContestSite&&(i(1),fetch("https://codeforces.com/api/user.info?lang=en&handles=".concat(e.username)).then((function(e){return e.json()})).then((function(e){console.log(e),C((function(t){return Object(r.a)(Object(r.a)({},t),{},{rating:e.result[0].rating,contribution:e.result[0].contribution})})),i((function(e){return e-1}))}))),function(){clearInterval(t)}}),[e.focusedContestSite,e.username]),""===e.focusedContestSite||""===e.username?s.a.createElement(s.a.Fragment,null):g?u?s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",null),s.a.createElement("div",{className:"loading"},"Loading",".".repeat(f%4))):N?"atcoder"===e.focusedContestSite?s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",null),s.a.createElement("div",{className:"portfolio-main"},s.a.createElement("div",{className:"portfolio-contents"},s.a.createElement(E,{title:"Rating",value:k.rating,valueUnit:"",subValue:k.ratingRank,subValueUnit:""}),s.a.createElement(E,{title:"Participated Contests",value:k.participatedContests,valueUnit:"",subValue:"Rated:".concat(k.participatedRatedContests)}),s.a.createElement(E,{title:"AC Count",value:k.acCount,valueUnit:"",subValue:k.acCountRank,subValueUnit:h(k.acCountRank)}),s.a.createElement(E,{title:"Rated Point Sum",value:k.ratedPointSum,valueUnit:"pt",subValue:k.ratedPointSumRank,subValueUnit:h(k.ratedPointSumRank)}),s.a.createElement(E,{title:"First AC",value:k.firstAcCount,valueUnit:"",subValue:k.firstAcRank,subValueUnit:h(k.firstAcRank)}),s.a.createElement(E,{title:"Fastest Code",value:k.fastestCodeCount,valueUnit:"",subValue:k.fastestCodeRank,subValueUnit:h(k.fastestCodeRank)}),s.a.createElement(E,{title:"Shortest Code",value:k.shortestCodeCount,valueUnit:"",subValue:k.shortestCodeRank,subValueUnit:h(k.shortestCodeRank)}),s.a.createElement(E,{title:"Longest Streak",value:k.longestStreak,valueUnit:"days",subValue:k.longestStreakRank,subValueUnit:h(k.longestStreakRank)})))):"codeforces"===e.focusedContestSite?s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",null),s.a.createElement("div",{className:"portfolio-main"},s.a.createElement("div",{className:"portfolio-contents"},s.a.createElement(E,{title:"Rating",value:k.rating,valueUnit:""})))):void 0:s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",null),s.a.createElement("div",{className:"user-not-exist"},s.a.createElement("span",null,"Such a user does not exist."))):s.a.createElement(s.a.Fragment,null)},C=function(){var e=Object(c.useState)({atcoder:"",codeforces:"",topcoder:"",yukicoder:""}),t=Object(o.a)(e,2),n=t[0],u=t[1],i=Object(c.useState)("atcoder"),p=Object(o.a)(i,2),b=p[0],E=p[1];return s.a.createElement("div",{className:"app"},s.a.createElement(l.a,{basename:"competitive-programming-portfolio"},s.a.createElement("div",{className:"main"},s.a.createElement(f,null),s.a.createElement(m.a,{exact:!0,path:"/",component:d}),s.a.createElement(v,{setInformation:function(e,t){E(e),u((function(n){return Object(r.a)(Object(r.a)({},n),{},Object(a.a)({},e,t))}))},usernames:n}),s.a.createElement(m.a,{path:"/portfolio",render:function(){return s.a.createElement(k,{focusedContestSite:b,username:n[b]})}}))))};i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(C,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.604929cc.chunk.js.map